<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>第 40 頁 | 網站製作學習誌</title>
  <meta name="author" content="Jace Ju">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="網站製作學習誌"/>

  
    <meta property="og:image" content="http://i.imgur.com/LmHuRXl.jpg"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="網站製作學習誌" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">網站製作學習誌</a></h1>
  <h2><a href="/">記錄在開發網站時所學的一切</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2007-05-28T16:00:00.000Z"><a href="/2007/05/29/191/">2007-05-29</a></time>
      
      
  
    <h1 class="title"><a href="/2007/05/29/191/">Zend Framework 1.0.0 RC1 釋出</a></h1>
  

    </header>
    <div class="entry">
      
        <p><a href="http://devzone.zend.com/node/view/id/2082" target="_blank" rel="external">Zend Framework 1.0.0 RC1</a> 終於出來了，這次在 MVC 部份加入了 ViewRenderer 。</p>
<p>以下是主要的改動：</p>
<p><ul class="disc"></ul></p>
<ul>
<li>Zend_Controller has a new feature called the ViewRenderer, which makes it very easy to design controller actions. See docs for the new usage; there is a section in the Controller Migration section for updating your MVC applications.</li>
<li>Zend_Gdata has a new object-oriented usage, making this client very similar to the interface of Gdata clients for other programming languages. However, support for Google Calendar is unfinished and remains in the incubator.</li>
<li>Zend_Db statement classes now have a consistent interface and common classes and exceptions across all database adapters; however, binding query parameters and results to PHP variables by reference has a bug (logged as ZF-1440).</li>
<li>Zend_Filter_Input is a new class with an old name. This provides a solution for declaring rules to filter and validate groups of data, and it serves as a “cage” from which only values that pass your validation rules can be retrieved.</li>
<li>Zend_Service_StrikeIron is a new web service client in the incubator.</li>
</ul>
<p>簡單介紹一下 ViewRenderer ：</p>
<p>ViewRender 主要是用來簡化 Action Cotroller 裡調用 View 的動作。舉例來說， 0.9.x 以前我們要在一個 action 裡顯示樣版會這麼做：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooController</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Zend_Controller_Action</span></span><br><span class="line"></span>&#123;</span><br><span class="line">public function barAction()</span><br><span class="line">&#123;</span><br><span class="line">$<span class="keyword">this</span>-&gt;initView();        <span class="comment">// initialize view</span></span><br><span class="line">$<span class="keyword">this</span>-&gt;view-&gt;baz = <span class="symbol">'ba</span>t'; <span class="comment">// set view variable</span></span><br><span class="line">$<span class="keyword">this</span>-&gt;render();          <span class="comment">// render view</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>現在只需要：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooController</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Zend_Controller_Action</span></span><br><span class="line"></span>&#123;</span><br><span class="line">public function barAction()</span><br><span class="line">&#123;</span><br><span class="line">$<span class="keyword">this</span>-&gt;view-&gt;baz = <span class="symbol">'ba</span>t'; <span class="comment">// set view variable</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>這樣就會自動做好初始化及呈現的動作，而舊程式幾乎也不用怎麼改。</p>
<p>如果有比較特別的情況不想用 ViewRenderer 的時候，就在 Front Controller 加上：</p>
<figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// Assuming $front is your front controller<span class="instruction"> instance</span><br><span class="line"></span>$front<span class="function">-&gt;setParam(</span>'noViewRenderer', true<span class="function">)</span>;</span><br></pre></td></tr></table></figure>
<p>詳細介紹可以參考： <a href="http://devzone.zend.com/node/view/id/2072" target="_blank" rel="external">Zend Framework’s MVC Introduces the ViewRenderer</a> 。</p>
<p>註：不過我用的是<a href="http://akrabat.com/2006/12/23/extending-zend_view_interface-for-use-with-smarty/" target="_blank" rel="external">整合 Smarty 的 View</a>，這點引發的問題也許不大。</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2007-05-27T16:00:00.000Z"><a href="/2007/05/28/189/">2007-05-28</a></time>
      
      
  
    <h1 class="title"><a href="/2007/05/28/189/">「PHP - Smarty 樣版引擎」勘誤更新</a></h1>
  

    </header>
    <div class="entry">
      
        <p>先向各位讀者說聲抱歉，這件事本來早就該做了。只是懶病作祟，一直沒有去好好整理它。</p>
<p>由於第二刷目前已經上市，所以我想這件事就不能再拖了；就請有買書的讀者對照一下手邊第一刷的書吧。真是大抱歉~~_orz</p>
<p><a href="http://www.jaceju.net/blog/archives/40" target="_blank" rel="external">勘誤表網址</a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2007-05-27T16:00:00.000Z"><a href="/2007/05/28/190/">2007-05-28</a></time>
      
      
  
    <h1 class="title"><a href="/2007/05/28/190/">我要玩 Wii 貼紙更新</a></h1>
  

    </header>
    <div class="entry">
      
        <p>那天看到<a href="http://blog.darkhero.net/" target="_blank" rel="external">丫凱</a>在 MSN 上的 <a href="http://blog.sina.com.tw/jasonforce/article.php?pbgid=12054&amp;entryid=454603" target="_blank" rel="external">Wii 閃光大頭照</a>，讓我一整個的好羡慕…orz</p>
<p>然後看看自己 Blog 上的貼紙，腦海裡就浮現出：「我要啃的雞！我要啃的雞！」的場景。而且一想到可能有網友和我一樣的時候，不禁悲從中來…(有那麼離譜嗎？)</p>
<p>不過先前貼紙一直掛著我的名字，大家也許就不好意思拿去用了；所以我就把我的名字給拿掉，順便把 Wii 的商標換成比較正式的。</p>
<p><img src="/resources/iwantwii.gif" alt="我要玩 Wii 啦！"></p>
<p>也許不像<a href="http://www.wretch.cc/blog/cwwany" target="_blank" rel="external">彎彎</a>她們那些專業網路畫家畫得那麼好看，不過有需要的朋友就自便吧。 :)</p>
<p>咦？又一篇跟網站製作無關的了？算了，放鬆一下也不錯啦。</p>
<p>丫凱有一個很好的建議，不過目前我還沒有時間處理，所以暫時先保密囉。 ;)</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2007-05-24T16:00:00.000Z"><a href="/2007/05/25/187/">2007-05-25</a></time>
      
      
  
    <h1 class="title"><a href="/2007/05/25/187/">PHPUnit 教學研討會 (國外)</a></h1>
  

    </header>
    <div class="entry">
      
        <p><a href="http://www.zendcon.com/schedule_tutorials.php" target="_blank" rel="external">PHPUnit Tutorial @ ZendCon 2007</a></p>
<p><a href="http://sebastian-bergmann.de/" target="_blank" rel="external">Sebastian Bergmann</a> 老大親自授課…一整個就是好想去…|||orz</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2007-05-24T16:00:00.000Z"><a href="/2007/05/25/188/">2007-05-25</a></time>
      
      
  
    <h1 class="title"><a href="/2007/05/25/188/">Web HTML Editor</a></h1>
  

    </header>
    <div class="entry">
      
        <p>以下的跨瀏覽器線上所見即所得 HTML 編輯器，都能產生 XHTML 格式的原始碼。</p>
<ul>
<li><a href="http://www.kevinroth.com/rte/" target="_blank" rel="external">Cross-Browser Rich Text Editor (RTE)</a></li>
<li><a href="http://xinha.python-hosting.com/" target="_blank" rel="external">Xinha</a></li>
<li><a href="http://tinymce.moxiecode.com/" target="_blank" rel="external">TinyMCE</a></li>
<li><a href="http://www.fckeditor.net/" target="_blank" rel="external">FCKEditor</a></li>
</ul>
<p>我個人偏好 TinyMCE ，當然其他的也不錯。</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2007-05-18T16:00:00.000Z"><a href="/2007/05/19/186/">2007-05-19</a></time>
      
      
  
    <h1 class="title"><a href="/2007/05/19/186/">JavaScript 小陷阱 (8) - TinyMCE 的處理</a></h1>
  

    </header>
    <div class="entry">
      
        <p>這兩天在使用 TinyMCE (版本 2.x) 上遇到了幾個小問題，這邊記一下以供備忘。</p>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2007/05/19/186/#more" class="more-link">Read More</a>
          </div>
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2007-05-18T16:00:00.000Z"><a href="/2007/05/19/185/">2007-05-19</a></time>
      
      
  
    <h1 class="title"><a href="/2007/05/19/185/">Anonymous functions in PHP</a></h1>
  

    </header>
    <div class="entry">
      
        <p>國外最近有一些 PHP 的<a href="http://www.php.net/conferences/" target="_blank" rel="external">技術研討會</a>，其中比較有趣的一項是：<a href="http://devzone.zend.com/node/view/id/2013" target="_blank" rel="external">匿名函式</a> (Anonymous functions) 。</p>
<p>範例如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(0, 0, 0);"</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(0, 0, 187);"</span>&gt;</span>$data <span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(0, 119, 0);"</span>&gt;</span>= array(<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(221, 0, 0);"</span>&gt;</span>"zoo"<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(0, 119, 0);"</span>&gt;</span>, <span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(221, 0, 0);"</span>&gt;</span>"orange"<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(0, 119, 0);"</span>&gt;</span>, <span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(221, 0, 0);"</span>&gt;</span>"car"<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(0, 119, 0);"</span>&gt;</span>, <span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(221, 0, 0);"</span>&gt;</span>"lemon"<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(0, 119, 0);"</span>&gt;</span>, <span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(221, 0, 0);"</span>&gt;</span>"apple"<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(0, 119, 0);"</span>&gt;</span>);</span><br><span class="line"><span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(0, 0, 187);"</span>&gt;</span>[usort](/manual/view/page/function.usort.html)<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(0, 119, 0);"</span>&gt;</span>(<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(0, 0, 187);"</span>&gt;</span>$data<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(0, 119, 0);"</span>&gt;</span>, function(<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(0, 0, 187);"</span>&gt;</span>$a<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(0, 119, 0);"</span>&gt;</span>, <span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(0, 0, 187);"</span>&gt;</span>$b<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(0, 119, 0);"</span>&gt;</span>) &#123; return <span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(0, 0, 187);"</span>&gt;</span>[strcmp](/manual/view/page/function.strcmp.html)<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(0, 119, 0);"</span>&gt;</span>(<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(0, 0, 187);"</span>&gt;</span>$a<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(0, 119, 0);"</span>&gt;</span>, <span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(0, 0, 187);"</span>&gt;</span>$b<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(0, 119, 0);"</span>&gt;</span>); &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(0, 0, 187);"</span>&gt;</span>[var_dump](/manual/view/page/function.var-dump.html)<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(0, 119, 0);"</span>&gt;</span>(<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(0, 0, 187);"</span>&gt;</span>$data<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(0, 119, 0);"</span>&gt;</span>); <span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: rgb(255, 128, 0);"</span>&gt;</span># data is sorted alphabetically<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;/<span class="title">span</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>沒錯，看起來就像是 JavaScript 的 function literal 。</p>
<p>這樣一來我們可以不需要再使用 <a href="http://www.php.net/en/create_function" target="_blank" rel="external">create_function</a> ，也不必撰寫有一堆跳脫字元的醜陋函式字串，而能更直覺地寫出我們所需要的函式。文章裡還有其他關於匿名函式的範例，有興趣的朋友可以自行參考。</p>
<p>話雖如此，到底哪個版本才會有這麼好用的東西出來呀？我的 mixin 類別正在找尋歸屬說。 </p>
<p>註：不過裡面 Jim Wilson 也提到了 (就是 Smarty 網站上常看到的  boots 本人) ，匿名函式和 <a href="http://www.javaworld.com.tw/roller/page/ingramchen?entry=2007_1_1_WhyAddClosureInJava7" target="_blank" rel="external">closure</a> (<a href="http://blog.roodo.com/rocksaying/" target="_blank" rel="external">石頭成</a>老大譯：<a href="http://blog.roodo.com/rocksaying/archives/3088893.html" target="_blank" rel="external">封絕</a>) 是完全不一樣的東西，而 PHP 是不需要 closure 的。可是為什麼我看感覺是一樣的？唉…大概是我等級還不夠，看不出什麼所以然吧？</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2007-05-07T16:00:00.000Z"><a href="/2007/05/08/184/">2007-05-08</a></time>
      
      
  
    <h1 class="title"><a href="/2007/05/08/184/">怪怪的 Google 搜尋結果頁</a></h1>
  

    </header>
    <div class="entry">
      
        <p>昨天看到了一個跟平常不太一樣的 Google 搜尋結果頁，結果清掉 Cache 後就不見了…還好有先把圖抓下來：</p>
<p><a href="/resources/strange_google_search_result.png"><img src="/resources/strange_google_search_result.png" alt="奇怪的 Google 搜尋結果頁"></a></p>
<p>Neo 老大和我以為是設定上的關係，不過我找了一下，並沒有相關的設定。正常的話右邊應該有廣告，像這樣：</p>
<p><a href="/resources/normal_google_search_result.png"><img src="/resources/normal_google_search_result.png" alt="正常的 Google 搜尋結果頁"></a></p>
<p><del>有人可以為小弟解惑嗎？</del></p>
<p><strong>UPDATE:</strong> 感謝 WM 及 lionel 兩位網友的說明，這是 Google 正在測試的另一個介面。我遇到的好像是台灣 Google 會隨機塞入 Cookie ，然後搜尋後就會出現這個介面了。</p>
<p>當然這個介面也不是沒用，只是我搜尋時出現的資訊較少 (也許還在調整中) ；可以參考： <a href="http://blog.outer-court.com/archive/2007-05-04-n11.html" target="_blank" rel="external">Google BlogOscoped::Test Another Google Prototype</a> 及<a href="http://soft.onlyone.idv.tw/article.asp?id=185" target="_blank" rel="external">硬是要學！網路資源學習站:: Google新版搜尋版面，搶先玩！</a>這兩篇文章，裡面有較為完整的擷取畫面。</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2007-05-04T16:00:00.000Z"><a href="/2007/05/05/183/">2007-05-05</a></time>
      
      
  
    <h1 class="title"><a href="/2007/05/05/183/">再一次挑戰 IE7 與 IE6 共存！</a></h1>
  

    </header>
    <div class="entry">
      
        <p>上次<a href="http://blog.roodo.com/jaceju/archives/2535816.html">介紹過 IE7 獨立執行版本</a>，不過我在使用上還是有些缺憾：</p>
<ul>
<li><p>就算執行了 update/xmllitesetup.exe ，但上方的工具列還是不完整。</p>
</li>
<li><p>無法關閉快顯封鎖程式。</p>
</li>
<li><p>無法成功模擬 onBeforeUnload 事件。</p>
</li>
<li><p>每次開啟 IE7s 時，總是會連到微軟預設的網頁，並出現 JavaScript Error 。</p>
</li>
</ul>
<p>註：更完整的說明請參考 <a href="http://tredosoft.com/IE7_standalone">Internet Explorer 7 running side by side with IE6. (standalone)</a> 中 <strong>Obviously some features will be broken</strong>  提到的部份。</p>
<p>如果我需要這些功能的話，我就得把 IE7 安裝在電腦裡。可是問題來了，那 IE6 該怎麼辦？還好提供 IE7s 的 TredoSoft 也提供了我們其他版本的 IE 獨立執行工具，稱為 <a href="http://tredosoft.com/Multiple_IE">Multiple IE</a> 。 Multiple IE 提供了從 IE3 到 IE6 間的各個版本供我們測試，對 Web 開發人員來說是個非常好用的工具。</p>
<p>接下來，我將以 IE7 為主，其他版本的 IE 為輔，打造我的 IE 測試環境。</p>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2007/05/05/183/#more" class="more-link">Read More</a>
          </div>
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2007-05-02T16:00:00.000Z"><a href="/2007/05/03/181/">2007-05-03</a></time>
      
      
  
    <h1 class="title"><a href="/2007/05/03/181/">關於 HTML label 元素無法作用</a></h1>
  

    </header>
    <div class="entry">
      
        <p>石頭成老大在我的「<a href="http://blog.roodo.com/jaceju/archives/3091221.html#comment-10126569" target="_blank" rel="external">終於用 jQuery 做了一個有趣的服務</a>」提到了在 IE 裡 label 元素的 for 屬性是有 bug 的，我研究了一下，把心得分享給大家。</p>
<p>原本我一直以為表單中的 input 元素只要設定 display: none 或是 visibility: hidden 的話，就沒辦法送出；不過 W3C 中在「 17.13.2 Successful controls 」一節中有明確的規範：</p>
<p><cite>Hidden controls and controls that are not rendered because of style sheet settings may still be successful.</cite></p>
<p>也就是說不論是 display:none 或是 visibility: hidden ，只要是利用 CSS 來讓 control 消失的，都還是應該把值送給後端。</p>
<p>我用了以下的程式測試了一下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="doctype">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"</span><br><span class="line">"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">html</span> <span class="attribute">xmlns</span>=<span class="value">"http://www.w3.org/1999/xhtml"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"Content-Type"</span> <span class="attribute">content</span>=<span class="value">"text/html; charset=utf-8"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">title</span>&gt;</span>TEST<span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">style</span> <span class="attribute">type</span>=<span class="value">"text/css"</span>&gt;</span><span class="css"></span><br><span class="line"><span class="class">.hide</span> <span class="rules">&#123;</span><br><span class="line"><span class="rule"><span class="attribute">visibility</span>:<span class="value"> hidden</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="class">.none</span> <span class="rules">&#123;</span><br><span class="line"><span class="rule"><span class="attribute">display</span>:<span class="value"> none</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"></span><span class="tag">&lt;/<span class="title">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">form</span> <span class="attribute">action</span>=<span class="value">""</span> <span class="attribute">method</span>=<span class="value">"post"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">label</span> <span class="attribute">for</span>=<span class="value">"type1"</span>&gt;</span>Type1<span class="tag">&lt;/<span class="title">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"radio"</span> <span class="attribute">class</span>=<span class="value">"hide"</span> <span class="attribute">id</span>=<span class="value">"type1"</span></span><br><span class="line"><span class="attribute">name</span>=<span class="value">"type[]"</span> <span class="attribute">value</span>=<span class="value">"1"</span> <span class="attribute">checked</span>=<span class="value">"checked"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">label</span> <span class="attribute">for</span>=<span class="value">"type2"</span>&gt;</span>Type2<span class="tag">&lt;/<span class="title">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"radio"</span> <span class="attribute">class</span>=<span class="value">"none"</span> <span class="attribute">id</span>=<span class="value">"type2"</span></span><br><span class="line"><span class="attribute">name</span>=<span class="value">"type[]"</span> <span class="attribute">value</span>=<span class="value">"2"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"submit"</span> <span class="attribute">value</span>=<span class="value">"送出"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"<span class="php"><span class="preprocessor">&lt;?php</span> <span class="keyword">echo</span> <span class="variable">$_SERVER</span>[<span class="string">'PHP_SELF'</span>]; <span class="preprocessor">?&gt;</span></span>"</span>&gt;</span>重新整理<span class="tag">&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="php"><span class="preprocessor">&lt;?php</span> var_dump(<span class="variable">$_POST</span>); <span class="preprocessor">?&gt;</span></span></span><br><span class="line"><span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span>&gt;</span><span class="javascript"></span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">var</span> t2 = <span class="built_in">document</span>.getElementById(<span class="string">'type2'</span>);</span><br><span class="line">t2.focus();</span><br><span class="line">&#125;</span><br><span class="line"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>結果發現 Firefox 、 Opera 不論有沒有預設的 checked ，在點選 label 後都會正確送出對應的 radio 欄位值。</p>
<p>而 IE6 、 IE7 事實上也是支援，只是它們僅能送出有預設 checked 的 radio 欄位；如果完全沒有預設 checked 的 radion 欄位時，因為點選 label 仍無法讓 radio 的值改變，因此也無法送出任何 radio 值 (就如石頭成老大所說明的) 。</p>
<p>所以我原先誤認 IE 不會理會 display: none 或是 visibility: hidden 的元素，其實是 label 無法作用；但更正確的來說，則是因為 <strong>IE 無法接受把 focus 放在不可見的元素上</strong>。</p>
<p>換句話說，我們<strong>沒辦法在 IE 上 focus 任何被 display: none 或是 visibility: hidden 的元素</strong>；而 label 則是 HTML 用來 focus 對應 input 元素的捷徑，也因此就不會有作用了。</p>
<p>註：所以我在「<a href="http://blog.roodo.com/jaceju/archives/3091221.html" target="_blank" rel="external">終於用 jQuery 做了一個有趣的服務</a>」裡的作法就是為了避開這個問題。</p>
<p>最後這是不是 bug 呢？我個人倒覺得像是 IE 開發團隊自己的想法。不過 IE 無視於 W3C 標準也不是第一次了，所以石頭成老大說這是 IE 在 W3C 實作上的 bug 其實也不為過。至於解法，大家可以直接參考石頭成老大的說明，這裡我就不多寫了。</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





<nav id="pagination">
  
    <a href="/page/39/" class="alignleft prev">上一頁</a>
  
  
    <a href="/page/41/" class="alignright next">下一頁</a>
  
  <div class="clearfix"></div>
</nav></div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜尋">
    <input type="hidden" name="q" value="site:jaceju.net">
  </form>
</div>

  

  
<div class="widget tag">
  <h3 class="title">標籤</h3>
  <ul class="entry">
  
    <li><a href="/tags/ASP/">ASP</a><small>8</small></li>
  
    <li><a href="/tags/AngularJS/">AngularJS</a><small>1</small></li>
  
    <li><a href="/tags/Backbone-js/">Backbone.js</a><small>2</small></li>
  
    <li><a href="/tags/CSS/">CSS</a><small>22</small></li>
  
    <li><a href="/tags/CoffeeScript/">CoffeeScript</a><small>1</small></li>
  
    <li><a href="/tags/Compass/">Compass</a><small>1</small></li>
  
    <li><a href="/tags/Grunt/">Grunt</a><small>1</small></li>
  
    <li><a href="/tags/IE6/">IE6</a><small>1</small></li>
  
    <li><a href="/tags/JSDC/">JSDC</a><small>1</small></li>
  
    <li><a href="/tags/JavaScript/">JavaScript</a><small>46</small></li>
  
    <li><a href="/tags/Laravel/">Laravel</a><small>1</small></li>
  
    <li><a href="/tags/Linux/">Linux</a><small>5</small></li>
  
    <li><a href="/tags/Mobile-開發/">Mobile 開發</a><small>1</small></li>
  
    <li><a href="/tags/MongoDB/">MongoDB</a><small>1</small></li>
  
    <li><a href="/tags/MySQL/">MySQL</a><small>2</small></li>
  
    <li><a href="/tags/NetBeans/">NetBeans</a><small>1</small></li>
  
    <li><a href="/tags/Octopress/">Octopress</a><small>1</small></li>
  
    <li><a href="/tags/PHP/">PHP</a><small>112</small></li>
  
    <li><a href="/tags/PHPConf-TW/">PHPConf.TW</a><small>1</small></li>
  
    <li><a href="/tags/RequireJS/">RequireJS</a><small>2</small></li>
  
    <li><a href="/tags/Selenium/">Selenium</a><small>1</small></li>
  
    <li><a href="/tags/Smarty/">Smarty</a><small>16</small></li>
  
    <li><a href="/tags/Software-Development/">Software Development</a><small>1</small></li>
  
    <li><a href="/tags/TDD/">TDD</a><small>2</small></li>
  
    <li><a href="/tags/Titanium/">Titanium</a><small>1</small></li>
  
    <li><a href="/tags/Web-開發/">Web 開發</a><small>25</small></li>
  
    <li><a href="/tags/WebConf/">WebConf</a><small>1</small></li>
  
    <li><a href="/tags/WebKit/">WebKit</a><small>1</small></li>
  
    <li><a href="/tags/Windows/">Windows</a><small>13</small></li>
  
    <li><a href="/tags/Yeoman/">Yeoman</a><small>1</small></li>
  
    <li><a href="/tags/Zend-Framework/">Zend Framework</a><small>57</small></li>
  
    <li><a href="/tags/jQuery/">jQuery</a><small>2</small></li>
  
    <li><a href="/tags/jQuery/">jQuery</a><small>1</small></li>
  
    <li><a href="/tags/伺服器安裝與設定/">伺服器安裝與設定</a><small>18</small></li>
  
    <li><a href="/tags/作品/">作品</a><small>13</small></li>
  
    <li><a href="/tags/單元測試/">單元測試</a><small>3</small></li>
  
    <li><a href="/tags/好文推薦/">好文推薦</a><small>2</small></li>
  
    <li><a href="/tags/好書推薦/">好書推薦</a><small>14</small></li>
  
    <li><a href="/tags/好站推薦/">好站推薦</a><small>11</small></li>
  
    <li><a href="/tags/心得感想/">心得感想</a><small>34</small></li>
  
    <li><a href="/tags/持續整合/">持續整合</a><small>2</small></li>
  
    <li><a href="/tags/未分類/">未分類</a><small>5</small></li>
  
    <li><a href="/tags/業界資訊/">業界資訊</a><small>5</small></li>
  
    <li><a href="/tags/程式開發/">程式開發</a><small>14</small></li>
  
    <li><a href="/tags/網路趣味/">網路趣味</a><small>3</small></li>
  
    <li><a href="/tags/設計模式/">設計模式</a><small>7</small></li>
  
    <li><a href="/tags/資料庫/">資料庫</a><small>5</small></li>
  
    <li><a href="/tags/連結分享/">連結分享</a><small>183</small></li>
  
    <li><a href="/tags/開發工具/">開發工具</a><small>8</small></li>
  
    <li><a href="/tags/電腦知識/">電腦知識</a><small>7</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2015 Jace Ju
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-450710-8', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>