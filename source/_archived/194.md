---
layout: post
title: '關於 Zend Framework 的一些想法'
date: 2007-6-19
wordpress_id: 194
comments: true
tags: ["Zend Framework"]
---

我常在對岸的論壇看一些 PHP 開發者在討論 [Zend Framework](http://framework.zend.com/) (以下簡稱 ZF) ，而 ZF 給他們的感覺像是另一個 [PEAR](http://pear.php.net/) ；而且他們認為雖然 ZF 有提供一個簡單的 MVC 框架，但是對於接觸過 [CakePHP](http://www.cakephp.org/) 或其他目前已經很成熟的框架的人來說， ZF 的 MVC 看起來像是小兒科。

對這樣的看法，我個人其實抱持著不同的意見。先前我本來也打算使用 CakePHP 來開發一個小專案，但是在接觸一陣子過後，我發現我實在無法瞭解 CakePHP 的原理架構。一來我發現我對 CakePHP 的神奇 MVC 架構一知半解 (就像 [RoR](http://www.rubyonrails.org/) 一樣) ，二來 CakePHP 的文件對資質愚眛的我來說實在是太難懂了。因此如果要像[丫凱](http://blog.darkhero.net/)這樣的高手在短時間內瞭解 CakePHP ，對我來說很不容易。 

ZF 就不同了，沿習著 PHP 的傳統，它的文件一開始就非常豐富而且易懂；而且就算是英文程度不及中學生的我，也能很清楚瞭解文件裡所要表達的意義。加上範例簡單且容易整合，只要稍加修改，通常就能夠很快加入現有的專案裡。而且 ZF 在 MVC 外的類別庫包含了當下最有用的功能 (像是 Gdata 、 WebService 等) ，就算不使用 ZF 本身的 MVC ，這些類別庫也能為我們帶來高度的價值。

那麼比起其他框架， ZF 不足在哪裡呢？ 

<!--more-->

## 缺少專案產生器

像 CakePHP 或 [Symfony](http://www.symfony-project.com/) ，它們都提供了快速建置專案的工具；這些工具讓我們能在 CLI 模式下快速產生專案所需要的目錄架構及相關設定，也能為我們產生 Model 等資料庫存取類別。這樣的工具能夠節省開發人員輸入程式碼的時間，也能夠讓初期專案建置的成本降低到一定的程度。

不過也因為如此，像 CakePHP 或 [Symfony](http://www.symfony-project.com/) 這類框架大多只能依賴產生好的結構來開發，彈性上略顯不足；如果要整合其他類別庫的話，光是思考如何放置它們就得花上不少時間。而 ZF 就沒有硬性規定我們一定要遵循特定的架構，不過如果要使用它的 MVC 框架，它也提供了良好的 Interface 讓開發人員能夠在最小的幅度裡把自己的想法加入。 

## 缺少開發、測試及產品等階段性佈置工具

一般專案會分成開發、測試及產品 (上線) 等三個階段，像 RoR 就提供了這樣的設定方式，而且在某種程度上來說是自動化的。對 ZF 來說，要讓這三種階段能自動化就得花上不少心力；通常我們得自己在設定檔及 Bootstrap 上動一些手腳，以達到這樣的功能。 

## 缺少強而有力的宣傳

大概目前知名的框架，都會利用類似十五分鐘建置一個 Blog 為範例，展現自己在開發上的效率；所以稍有程式開發經驗的工程師，大多都會被這樣的宣傳手法給吸引。而這種風氣大概是 RoR 表現的最為徹底，以致許多 Java 程式人員為 RoR 而瘋狂。反觀 ZF ，雖然它有官方的支援，但是由於缺少上面提到的工具，使得它在宣傳上遠遠落後別的框架一大截。

另外 ZF 在架構上的穩定性也是讓人擔憂，因為版本間的演化幅度太大，使得大家對它抱持著觀望的態度。不過隨著 1.0.0 版的推出，這些疑慮大致上都可以消除了。

## 建立自己的基本專案架構

對使用 ZF 的開發人員來說，雖然官方有建議一個專案架構，不過我想我們還是儘量自行依照專案的特性來規劃會比較好。所以 [Andries Seutens](http://andries.systray.be/) 提供了一個[他自己的版本](http://andries.systray.be/blog/2007/06/18/zend-framework-just-get-me-started-okay/)供大家參考。主要包含：

* 慣用的專案目錄結構
* Bootstrap 檔案 
* 測試及產品等兩階段的設定檔
* Error Controller
* Index Controller
* 其他


對我來說，我也有自己喜好的目錄結構，但基本上也是和官方建議的差不多。另外我把大部份常用到的功能包含到另一個抽象層裡，使得我的應用程式不會過度依賴 ZF ；而且這樣一來，我所有的專案也可以共用這個抽象層，發現有更好的方式時，只要修改抽象層的程式碼即可。

Zend Framework 雖然沒有便利的工具，但未來應該會有高手幫它做好；而我個人喜好它的彈性，也深深為它把 PHP5 的物件導向特性發揮得淋漓盡致而感動。也許後面我會發表一些 ZF 使用上的心得，也會持續關注它的發展。 
