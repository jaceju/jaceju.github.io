<!DOCTYPE html><html lang="zh-TW"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Laravel 5.1 正式釋出 | 網站製作學習誌</title><link rel="stylesheet" type="text/css" href="/css/normalize.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="/css/pure-min.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="/css/grids-responsive-min.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Laravel 5.1 正式釋出</h1><a id="logo" href="/.">網站製作學習誌</a><p class="description">記錄在開發網站時所學的一切</p></div><div id="nav-menu"><a href="/." class="current"><i class="icon-home"> 首頁</i></a><a href="/archives/"><i class="icon-archive"> 所有文章</i></a><a href="/about/"><i class="icon-about"> 關於</i></a><a href="/atom.xml"><i class="icon-rss"> 訂閱</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post post-page"><h1 class="post-title">Laravel 5.1 正式釋出</h1><div class="post-meta">2015-06-10</div><div class="post-content"><p>經過了幾個月的等待， Laravel 5.1 終於在美國時間 6/9 <a href="https://laravel-news.com/2015/06/laravel-5-1-released/" target="_blank" rel="noopener">正式釋出</a>了。同時 Laracasts 也推出了一系列的 <a href="https://laracasts.com/series/whats-new-in-laravel-5-1" target="_blank" rel="noopener">Laravel 5.1 新功能介紹</a>，絕對是每位 Artisan 必看的影片。</p>
<p>官方也介紹了 5.1 有哪些<a href="http://laravel.com/docs/5.1/releases" target="_blank" rel="noopener">新特色</a> ，以下我會簡單介紹它們。</p>
<a id="more"></a>
<h2 id="不再支援-PHP-5-5-9-以前的版本"><a href="#不再支援-PHP-5-5-9-以前的版本" class="headerlink" title="不再支援 PHP 5.5.9 以前的版本"></a>不再支援 PHP 5.5.9 以前的版本</h2><p>從推出以來，我個人認為 Laravel 的作者似乎都一直在依循著 PHP 的新特色來開發 Laravel ，讓整個 Framework 不論在程式架構或效能上，都能保持在一定的水準。這次 5.1 版也是如此，直接就告訴大家：該把 PHP 升級到 5.5.9 以上的版本了，這樣才能使用新版的 Laravel 所帶來的好處。</p>
<p>很難想像這樣先進的 PHP Framework 的開發作者，原來是寫 .Net 的；而在開發 Laravel 之前完全沒學過 PHP ，真是令我汗顏。</p>
<h2 id="第一個-LTS-版本"><a href="#第一個-LTS-版本" class="headerlink" title="第一個 LTS 版本"></a>第一個 LTS 版本</h2><p>當然隨著 PHP 持續演進的過程中，勢必就得有所取捨；這樣的特色讓許多依賴舊的 Laravel 版本所開發的專案，在穩定與升級之間面臨很大的抉擇。到了 Laravel 5.1 ，作者終於正式宣佈它是一個 LTS (Long Term Support) 版本，將會讓企業安心用它來開發需要穩定的長期專案。</p>
<p>也就是說現在用 Laravel 5.1 開發的專案，在未來的兩、三年內可以不用再怕沒人修核心的 bug 了。</p>
<h2 id="新的文件"><a href="#新的文件" class="headerlink" title="新的文件"></a>新的文件</h2><p>在 5.1 將要發佈之前，作者花了很多心力在完善文件。例如 <a href="http://laravel.com/docs/5.1/authentication" target="_blank" rel="noopener">Authentication</a> 的部份就做了很完整的 Quickstart 範例，讓開發者瞭解如何去實作自己的認證機制。另外即時搜尋也是這次文件系統的新特色，讓開發者可以很快地用關鍵字來查閱相關說明。</p>
<p>不過我還是覺得字太小，而且每次要看其他章節都得捲回去頁首。</p>
<h2 id="PSR-2"><a href="#PSR-2" class="headerlink" title="PSR-2"></a>PSR-2</h2><p>在 Laravel 5.1 之前的版本，讓我最困擾的就是作者自己弄了一套 Coding Style ，而不是照著 PSR 標準走。終於在眾開發者的要求下，作者從善如流，讓核心代碼以及產生器所產生的程式碼，都遵守了 PSR-2 標準。</p>
<p>這個結果，我只能拍手叫好了；因為即便 PSR-2 再怎麼不如己意，但它終歸是大家討論出來的標準。 (公司的 coding style 也不正是如此嗎？)</p>
<ul>
<li>相關影片： <a href="https://laracasts.com/series/whats-new-in-laravel-5-1/episodes/1" target="_blank" rel="noopener">Adopting PSR-2</a></li>
</ul>
<h2 id="在樣版中注入服務"><a href="#在樣版中注入服務" class="headerlink" title="在樣版中注入服務"></a>在樣版中注入服務</h2><p>在 Blade 引擎中也新增了一個 <code>@inject</code> 指令，讓開發者可以即時地注入一個物件。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">@inject('metrics', 'App\Services\MetricsService')</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    Monthly Revenue: &#123;&#123; $metrics-&gt;monthlyRevenue() &#125;&#125;.</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>這樣一來應該就可以不必在 Controller 或 View Composer 中引入變數了。</p>
<ul>
<li>相關文件： <a href="http://laravel.com/docs/5.1/blade#service-injection" target="_blank" rel="noopener">Blade Templates - Service Injection</a></li>
<li>相關影片： <a href="https://laracasts.com/series/whats-new-in-laravel-5-1/episodes/2" target="_blank" rel="noopener">Injecting Services With Blade</a></li>
</ul>
<h2 id="Middleware-參數"><a href="#Middleware-參數" class="headerlink" title="Middleware 參數"></a>Middleware 參數</h2><p>原本我們只能從傳入 request 物件給 middleware ，再從 request 物件中取得參數給 middleware 使用；在新版本終於可以自訂 middleware 的參數，再從 route 的定義裡傳入參數給 middleware 。</p>
<p>例如在製作權限系統時，就可以在 route 傳入指定的角色，讓管理權限的 middleware 判斷使用者是否符合這個角色。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RoleMiddleware</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">handle</span><span class="params">($request, Closure $next, $role)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (! $request-&gt;user()-&gt;hasRole($role)) &#123;</span><br><span class="line">            <span class="comment">// Redirect...</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> $next($request);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Route::put(<span class="string">'post/&#123;id&#125;'</span>, [<span class="string">'middleware'</span> =&gt; <span class="string">'role:editor'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($id)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">&#125;]);</span><br></pre></td></tr></table></figure>
<p>另外 Middleware 的設計也因為底層的 Symfony 採用了剛定案的 PSR-7 標準，所以也符合 PSR-7 的標準。</p>
<ul>
<li>相關文件： <a href="http://laravel.com/docs/5.1/middleware#middleware-parameters" target="_blank" rel="noopener">HTTP Middleware - Middleware Parameters</a></li>
</ul>
<h2 id="事件廣播"><a href="#事件廣播" class="headerlink" title="事件廣播"></a>事件廣播</h2><p>Laravel 原本已經包含了一個強大的事件系統，現在加上實作更簡單的事件廣播功能，能讓開發者搭配特定的服務 (例如 Redis) 以廣播 WebSocket 事件，便可以更有效率地做出即時應用程式。</p>
<p>原本我打算用 <a href="http://reactphp.org/" target="_blank" rel="noopener">ReactPHP</a> 的說，看來又要改變主意了。</p>
<ul>
<li>相關文件： <a href="http://laravel.com/docs/5.1/events#broadcasting-events" target="_blank" rel="noopener">Events - Broadcasting Events</a></li>
<li>相關影片： <a href="https://laracasts.com/series/intermediate-laravel/episodes/3" target="_blank" rel="noopener">The Power of Eventing</a> (需付費)</li>
</ul>
<h2 id="更完整的測試框架"><a href="#更完整的測試框架" class="headerlink" title="更完整的測試框架"></a>更完整的測試框架</h2><p>先前的版本所提供的測試工具提供的功能有限，僅能做到部份的整合測試。現在 Laravel 5.1 引入了 laracasts 的測試套件，讓整合測試變得更易讀。</p>
<p>我才剛把 <a href="http://codeception.com/" target="_blank" rel="noopener">Codeception</a> 引入而已，這套要不要用可能要再研究一下。</p>
<ul>
<li>相關文件： <a href="http://laravel.com/docs/5.1/testing" target="_blank" rel="noopener">Testing</a></li>
</ul>
<h2 id="小結"><a href="#小結" class="headerlink" title="小結"></a>小結</h2><p>據作者說， Laravel 5.1 是他目前最滿意的版本；當然這或許有些老王賣瓜的感覺，但從 Laravel 3 追到現在，我也覺得 Laravel 真的是與時俱進，不斷地結合許多先進的開發觀念。</p>
<p>接下來我會把一些目前正在執行的專案都換成 5.1 ，再來看看它是不是真的有如作者所說的這麼強大。</p>
</div><div class="tags"><a href="/tags/Laravel/">Laravel</a><a href="/tags/PHP/">PHP</a></div><div class="post-nav"><a href="/2015-07-26-laravel-events-broadcasting/" class="pre"><i class="icon-previous">Laravel 5.1 Events Broadcasting 實務練習</i></a><a href="/2015-06-03-selenium-on-mac/" class="next">在 Mac OS X 上搭建 Selenium 測試環境<i class="icon-next"></i></a></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search" class="search-form-input"><input type="hidden" name="sitesearch" value="http://jaceju.net"></form></div><div class="widget"><div class="widget-title">分類</div></div><div class="widget"><div class="widget-title">標籤</div><div class="tagcloud"><a href="/tags/Web-開發/" style="font-size: 15px;">Web 開發</a> <a href="/tags/測試/" style="font-size: 15px;">測試</a> <a href="/tags/TDD/" style="font-size: 15px;">TDD</a> <a href="/tags/Laravel/" style="font-size: 15px;">Laravel</a> <a href="/tags/PHP/" style="font-size: 15px;">PHP</a> <a href="/tags/心得感想/" style="font-size: 15px;">心得感想</a> <a href="/tags/CSS/" style="font-size: 15px;">CSS</a> <a href="/tags/ASP/" style="font-size: 15px;">ASP</a> <a href="/tags/JavaScript/" style="font-size: 15px;">JavaScript</a> <a href="/tags/Selenium/" style="font-size: 15px;">Selenium</a> <a href="/tags/好書推薦/" style="font-size: 15px;">好書推薦</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/設計模式/" style="font-size: 15px;">設計模式</a> <a href="/tags/MySQL/" style="font-size: 15px;">MySQL</a> <a href="/tags/程式開發/" style="font-size: 15px;">程式開發</a> <a href="/tags/伺服器安裝與設定/" style="font-size: 15px;">伺服器安裝與設定</a> <a href="/tags/Refactoring/" style="font-size: 15px;">Refactoring</a> <a href="/tags/jQuery/" style="font-size: 15px;">jQuery</a> <a href="/tags/Zend-Framework/" style="font-size: 15px;">Zend Framework</a></div></div><div class="widget"><div class="widget-title">最新文章</div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018-05-09-steps-of-refactoring-or-rebuilding/">重構或重寫 Legacy code 的幾個階段</a></li><li class="post-list-item"><a class="post-list-link" href="/2018-05-09-refactor-or-rebuild/">面對 Legacy Code ，該重構還是重寫？</a></li><li class="post-list-item"><a class="post-list-link" href="/2017-03-18-to-test-the-detail-or-to-test-the-result/">測試該驗證結果還是該驗證細節</a></li><li class="post-list-item"><a class="post-list-link" href="/2017-01-11-php-quality-analysis/">分析 PHP 程式碼品質</a></li><li class="post-list-item"><a class="post-list-link" href="/2016-12-27-spotify-engineering-culture/">很值得一看的 Spotify 的工程文化</a></li><li class="post-list-item"><a class="post-list-link" href="/2016-12-24-be-a-senior-engineer/">如何才有資格稱為資深工程師</a></li><li class="post-list-item"><a class="post-list-link" href="/2015-11-09-php-closure-testing/">在 PHPUnit 中測試需要 closure 的函式</a></li><li class="post-list-item"><a class="post-list-link" href="/2015-10-27-web-testing-with-phpunit-mink/">利用 PHPUnit 與 Mink 來做 Web 測試</a></li><li class="post-list-item"><a class="post-list-link" href="/2015-10-05-simple-refatoring-example-01/">邁向 PHP 重構之路 - 以 Laravel 程式碼片段為例</a></li><li class="post-list-item"><a class="post-list-link" href="/2015-07-29-laravel-mailcatcher/">在 Laravel 上用 MailCatcher 發送測試信件</a></li></ul></div><div class="widget"><div class="widget-title">友站連結</div><ul></ul><a href="https://www.facebook.com/91agile/" title="91 敏捷開發之路" target="_blank">91 敏捷開發之路</a><ul></ul><a href="https://dotblogs.com.tw/hatelove/archive/2013/01/11/learning-tdd-in-30-days-catalog-and-reference.aspx" title="30天快速上手TDD by 91" target="_blank">30天快速上手TDD by 91</a></div></div></div></div><div id="footer">© <a href="/." rel="nofollow">網站製作學習誌.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/jquery.min.js?v=0.0.0"></script><script type="text/javascript" src="/js/totop.js?v=0.0.0"></script><script type="text/javascript" src="/js/fancybox.pack.js?v=0.0.0"></script><script type="text/javascript" src="/js/jquery.fancybox.js?v=0.0.0"></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>